@tailwind base;
@tailwind components;
@tailwind utilities;

/* =============================================
   GoStopPlay — 화투 게임 테마
   ============================================= */

:root {
  --table-felt: #1A4D2E;
  --table-dark: #0D3320;
  --table-light: #237A4B;
  --table-shadow: #0A2816;
  --panel: #1A1A22;
  --panel-light: #252530;
  --base: #0E0E12;
  --hwatu-face: #F5F0E0;
  --hwatu-back: #1A1A1A;
  --hwatu-red: #CC0000;
  --hwatu-blue: #1A3C8F;
  --hwatu-green: #2D5A27;
  --hwatu-gold: #DAA520;
  --hwatu-border: #8B0000;
  --gold: #D4A84B;
  --gold-light: #E8C66A;
  --gold-dark: #A67C2E;
  --action-blue: #4A9FD9;
  --action-danger: #D94040;
  --action-success: #3DAD5C;
  --text-primary: #F0EBE0;
  --text-secondary: #A09682;
  --text-muted: #6B6260;
}

body {
  font-family: 'Pretendard Variable', Pretendard, system-ui, sans-serif;
  color: var(--text-primary);
  background: var(--base);
  margin: 0;
  padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

input, textarea, [contenteditable] {
  -webkit-user-select: text;
  user-select: text;
}

.font-display { font-family: 'Outfit', sans-serif; }

/* =============================================
   테이블 배경
   ============================================= */

.table-bg {
  background: radial-gradient(
    ellipse at 50% 40%,
    var(--table-light) 0%,
    var(--table-felt) 35%,
    var(--table-dark) 70%,
    var(--table-shadow) 100%
  );
}

.table-bg::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.06'/%3E%3C/svg%3E");
  opacity: 0.3;
  pointer-events: none;
}

/* =============================================
   화투 카드 — 3D flip + 기본 스타일
   ============================================= */

.hwatu-card-container { perspective: 800px; }

.hwatu-card-flipper {
  transition: transform 0.4s ease-in-out;
  transform-style: preserve-3d;
  position: relative;
}

.hwatu-card-flipper.flipped { transform: rotateY(180deg); }

.hwatu-card-front,
.hwatu-card-back-face {
  backface-visibility: hidden;
  position: absolute;
  inset: 0;
}

.hwatu-card-front { transform: rotateY(180deg); }
.hwatu-card-back-face { transform: rotateY(0deg); }

.hwatu-card {
  border-radius: 4px;
  cursor: pointer;
  user-select: none;
  transition: transform 0.15s ease, box-shadow 0.15s ease;
  box-shadow: 0 2px 6px rgba(0,0,0,0.4), 0 1px 3px rgba(0,0,0,0.3);
}

@media (hover: hover) {
  .hwatu-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.5), 0 2px 6px rgba(0,0,0,0.3);
  }
}

.hwatu-card.selected {
  transform: translateY(-10px);
  box-shadow: 0 6px 16px rgba(0,0,0,0.5), 0 0 0 2px var(--gold), 0 0 12px rgba(212,168,75,0.3);
}

/* =============================================
   액션 버튼
   ============================================= */

.action-btn {
  padding: 10px 24px;
  border-radius: 8px;
  font-weight: 600;
  font-size: 15px;
  letter-spacing: 0.05em;
  cursor: pointer;
  transition: all 0.15s ease;
  background: linear-gradient(180deg, #2A2A35 0%, #1E1E28 100%);
  color: #D0CAC0;
  border: 1px solid rgba(255,255,255,0.08);
  box-shadow: 0 2px 4px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.05);
}

.action-btn:hover {
  background: linear-gradient(180deg, #353545 0%, #282835 100%);
  color: #F0EBE0;
}

.action-btn:active { transform: translateY(1px); }
.action-btn:disabled { opacity: 0.3; cursor: not-allowed; transform: none !important; }

.action-btn-go {
  background: linear-gradient(180deg, #CC0000 0%, #990000 100%);
  color: #FFF;
  border: 1px solid rgba(255,255,255,0.15);
  font-weight: 700;
  box-shadow: 0 2px 4px rgba(0,0,0,0.3), 0 0 16px rgba(204,0,0,0.25);
}

.action-btn-go:hover {
  background: linear-gradient(180deg, #E60000 0%, #CC0000 100%);
  box-shadow: 0 4px 8px rgba(0,0,0,0.4), 0 0 24px rgba(204,0,0,0.4);
}

.action-btn-stop {
  background: linear-gradient(180deg, var(--gold) 0%, var(--gold-dark) 100%);
  color: #1C1710;
  border: 1px solid rgba(255,255,255,0.15);
  font-weight: 700;
  box-shadow: 0 2px 4px rgba(0,0,0,0.3), 0 0 16px rgba(212,168,75,0.25);
}

.action-btn-stop:hover {
  background: linear-gradient(180deg, var(--gold-light) 0%, var(--gold) 100%);
  box-shadow: 0 4px 8px rgba(0,0,0,0.4), 0 0 24px rgba(212,168,75,0.4);
}

/* =============================================
   이벤트 팝업 (따닥!, 폭탄!, 쓸!)
   ============================================= */

@keyframes event-pop {
  0% { transform: scale(0.3) rotate(-10deg); opacity: 0; }
  40% { transform: scale(1.3) rotate(3deg); opacity: 1; }
  60% { transform: scale(0.95) rotate(-1deg); }
  100% { transform: scale(1) rotate(0deg); opacity: 0; }
}

@keyframes event-shake {
  0%, 100% { transform: translateX(0); }
  20% { transform: translateX(-6px); }
  40% { transform: translateX(6px); }
  60% { transform: translateX(-4px); }
  80% { transform: translateX(4px); }
}

.event-popup {
  font-weight: 900;
  text-shadow: 0 0 20px rgba(255,255,255,0.4), 0 3px 6px rgba(0,0,0,0.6);
  animation: event-pop 0.8s ease-out forwards;
}

.event-shake { animation: event-shake 0.4s ease-in-out; }

/* =============================================
   유틸리티 애니메이션
   ============================================= */

@keyframes fade-in {
  from { opacity: 0; transform: translateY(4px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slide-up {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes pulse-gold {
  0%, 100% { box-shadow: 0 0 0 0 rgba(212,168,75,0.4); }
  50% { box-shadow: 0 0 0 8px rgba(212,168,75,0); }
}

@keyframes card-enter {
  from { opacity: 0; transform: scale(0.8) translateY(8px); }
  to { opacity: 1; transform: scale(1) translateY(0); }
}

@keyframes card-capture {
  0% { transform: scale(1); }
  50% { transform: scale(1.15); }
  100% { transform: scale(0.6); opacity: 0; }
}

@keyframes result-appear {
  0% { opacity: 0; transform: scale(0.92) translateY(16px); }
  60% { opacity: 1; transform: scale(1.01) translateY(-2px); }
  100% { opacity: 1; transform: scale(1) translateY(0); }
}

@keyframes match-highlight {
  0%, 100% { box-shadow: 0 0 0 2px rgba(212,168,75,0.6), 0 0 10px rgba(212,168,75,0.3); }
  50% { box-shadow: 0 0 0 3px rgba(212,168,75,0.8), 0 0 16px rgba(212,168,75,0.5); }
}

.animate-fade-in { animation: fade-in 0.2s ease-out; }
.animate-slide-up { animation: slide-up 0.3s ease-out; }
.animate-pulse-gold { animation: pulse-gold 1.5s ease-in-out infinite; }
.animate-card-enter { animation: card-enter 0.15s ease-out; }
.animate-card-capture { animation: card-capture 0.4s ease-out forwards; }
.animate-result-appear { animation: result-appear 0.45s ease-out; }
.match-highlight { animation: match-highlight 1s ease-in-out infinite; border-radius: 4px; }

/* =============================================
   반응형
   ============================================= */

@media (max-width: 767px) {
  .hwatu-card { border-radius: 3px; }
  .action-btn { padding: 8px 16px; font-size: 13px; }
}

@media (max-width: 374px) {
  .action-btn { padding: 6px 12px; font-size: 12px; }
}

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* =============================================
   카드 이동 애니메이션
   ============================================= */

@keyframes card-arrive {
  0% { transform: scale(1.08); }
  50% { transform: scale(0.97); }
  100% { transform: scale(1); }
}

@keyframes card-snap {
  0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(212,168,75,0); }
  40% { transform: scale(1.1); box-shadow: 0 0 16px 4px rgba(212,168,75,0.6); }
  100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(212,168,75,0); }
}

@keyframes bomb-flash {
  0% { opacity: 0; }
  20% { opacity: 1; }
  100% { opacity: 0; }
}

@keyframes capture-pulse {
  0% { transform: scale(0.8); opacity: 0; }
  50% { transform: scale(1.05); opacity: 1; }
  100% { transform: scale(1); opacity: 1; }
}

.animate-card-arrive { animation: card-arrive 0.15s ease-out; }
.animate-card-snap { animation: card-snap 0.3s ease-out; }
.animate-capture-arrive { animation: capture-pulse 0.2s ease-out; }

.bomb-flash-overlay {
  position: fixed;
  inset: 0;
  background: radial-gradient(circle, rgba(255,68,68,0.2), transparent 70%);
  animation: bomb-flash 0.4s ease-out forwards;
  pointer-events: none;
  z-index: 99;
}

.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
